trigger:
- master

pool:
  vmImage: ubuntu-latest

stages:
- stage: Build
  jobs:
  - job: FirstJob
    steps: 
    - bash: echo Build FirstJob
  - job: SecondJob
    steps: 
    - bash: echo Build SecondJob
- stage: DevDeploy
  jobs:
  - job: DevDeployJob
    steps: 
    - bash: echo Build DevDeployJob
- stage: QADeploy
  jobs:
  - job: QADeployJob
    steps: 
    - bash: echo Build QADeployJob
- stage: ProdDepoly
  jobs:
  - job: ProdDeployJob
    steps: 
    - bash: echo Build ProdDeployJob
- task: Docker@2
  inputs:
    containerRegistry: 'chuka001-Dockerhub'
    repository: 'chuka001/currency_exchange'
    command: 'buildAndPush'
    Dockerfile: '**/Dockerfile'